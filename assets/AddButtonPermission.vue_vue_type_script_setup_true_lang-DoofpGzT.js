var V=(u,c,e)=>new Promise((n,m)=>{var d=o=>{try{t(e.next(o))}catch(l){m(l)}},p=o=>{try{t(e.throw(o))}catch(l){m(l)}},t=o=>o.done?n(o.value):Promise.resolve(o.value).then(d,p);t((e=e.apply(u,c)).next())});import{F as C}from"./Form-D_p7JRAU.js";import"./index-BdvF35nf.js";/* empty css                  */import{u as M}from"./useForm-DeuCuIY6.js";import{u as k}from"./useValidator-CECEZWWG.js";import{a5 as x}from"./element-plus-BmqQxCtl.js";import{l as y,aJ as D,aK as F,I as B,ag as R,m as h,R as I,Q as i,M as f,u as v,q as N,U as _}from"./vue-chunks-ApmF_VrE.js";const S=y({__name:"AddButtonPermission",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:D(["confirm"],["update:modelValue"]),setup(u,{emit:c}){const e=F(u,"modelValue"),{required:n}=k(),m=B([{field:"label",label:"label",component:"Input",colProps:{span:24}},{field:"value",label:"value",component:"Input",colProps:{span:24}}]),{formRegister:d,formMethods:p}=M(),{getFormData:t,getElFormExpose:o}=p,l=c,g=B({label:[n()],value:[n()]}),w=()=>V(this,null,function*(){const s=yield o();if(!s)return;if(yield s==null?void 0:s.validate().catch(a=>{})){const a=yield t();a.id=Date.now(),l("confirm",a),e.value=!1}});return(s,r)=>{const a=R("BaseButton");return h(),I(v(x),{modelValue:e.value,"onUpdate:modelValue":r[1]||(r[1]=b=>e.value=b),title:"新增按钮权限"},{default:i(()=>[f(v(C),{rules:g,onRegister:v(d),schema:m},null,8,["rules","onRegister","schema"])]),footer:i(()=>[N("div",null,[f(a,{onClick:r[0]||(r[0]=()=>e.value=!1)},{default:i(()=>[_("取消")]),_:1}),f(a,{type:"primary",onClick:w},{default:i(()=>[_("确认")]),_:1})])]),_:1},8,["modelValue"])}}});export{S as _};
