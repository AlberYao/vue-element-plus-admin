var f=(s,m,t)=>new Promise((n,c)=>{var i=e=>{try{a(t.next(e))}catch(o){c(o)}},u=e=>{try{a(t.throw(e))}catch(o){c(o)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,u);a((t=t.apply(s,m)).next())});import{F as g}from"./Form-CPeIhX5s.js";import{u as w}from"./useForm-R8Bxs0x8.js";import{u as R}from"./useValidator-D6XiB8X8.js";import{l as _,I as v,b as x,m as y,R as F,u as l}from"./vue-chunks-ApmF_VrE.js";const S=_({__name:"Write",props:{currentRow:{type:Object,default:()=>null},formSchema:{type:Array,default:()=>[]}},setup(s,{expose:m}){const{required:t}=R(),n=s,c=v({id:[t()],status:[t()]}),{formRegister:i,formMethods:u}=w(),{setValues:a,getFormData:e,getElFormExpose:o}=u,p=()=>f(this,null,function*(){const r=yield o();if(yield r==null?void 0:r.validate().catch(h=>{}))return yield e()});return x(()=>n.currentRow,r=>{r&&a(r)},{deep:!0,immediate:!0}),m({submit:p}),(r,d)=>(y(),F(l(g),{rules:c,onRegister:l(i),schema:s.formSchema},null,8,["rules","onRegister","schema"]))}});export{S as _};
