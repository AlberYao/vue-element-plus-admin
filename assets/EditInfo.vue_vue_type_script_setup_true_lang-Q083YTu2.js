var u=(r,c,a)=>new Promise((l,n)=>{var m=e=>{try{o(a.next(e))}catch(s){n(s)}},i=e=>{try{o(a.throw(e))}catch(s){n(s)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(m,i);o((a=a.apply(r,c)).next())});import{F as b}from"./Form-CPeIhX5s.js";import{u as y}from"./useForm-R8Bxs0x8.js";import{u as E}from"./useValidator-D6XiB8X8.js";import"./index-CXvLa8iJ.js";/* empty css                   */import{k as I,i as N,b as w}from"./element-plus-BmqQxCtl.js";import{l as k,I as g,b as C,a as F,ag as M,m as V,p as P,M as f,u as d,Q as R,U as T,O}from"./vue-chunks-ApmF_VrE.js";const A=k({__name:"EditInfo",props:{userInfo:{type:Object,default:()=>({})}},setup(r){const c=r,{required:a,phone:l,maxlength:n,email:m}=E(),i=g([{field:"realName",label:"昵称",component:"Input",colProps:{span:24}},{field:"phoneNumber",label:"手机号码",component:"Input",colProps:{span:24}},{field:"email",label:"邮箱",component:"Input",colProps:{span:24}}]),o=g({realName:[a(),n(50)],phoneNumber:[l()],email:[m()]}),{formRegister:e,formMethods:s}=y(),{setValues:v,getElFormExpose:_}=s;C(()=>c.userInfo,t=>{v(t)},{immediate:!0,deep:!0});const h=F(!1),x=()=>u(this,null,function*(){const t=yield _();(yield t==null?void 0:t.validate().catch(p=>{}))&&N.confirm("是否确认修改?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>u(this,null,function*(){try{h.value=!0,w.success("修改成功")}catch(p){}finally{h.value=!1}})).catch(()=>{})});return(t,B)=>{const p=M("BaseButton");return V(),P(O,null,[f(d(b),{rules:o,onRegister:d(e),schema:i},null,8,["rules","onRegister","schema"]),f(d(I)),f(p,{type:"primary",onClick:x},{default:R(()=>[T("保存")]),_:1})],64)}}});export{A as _};
